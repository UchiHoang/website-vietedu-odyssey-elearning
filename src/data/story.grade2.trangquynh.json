{
  "meta": {
    "storyPackId": "trangquynh-2025",
    "title": "Trạng Quỳnh đi thi",
    "layout": "left-to-right",
    "locale": "vi",
    "description": "Cậu bé Trạng Quỳnh chuẩn bị lên kinh đô dự thi Toán! Hãy giúp Quỳnh vượt qua 15 màn thử thách và trở thành \"Trạng Nguyên\" nhé!"
  },
  "legalNote": "Create original character artwork only. Use only user-provided images in /public/assets/user/.",
  "prologue": [
    {
      "id": "p1",
      "bg": "assets/user/bg_village.png",
      "sprite": "assets/user/trang_idle.png",
      "speaker": "Người kể chuyện",
      "text": "Ngày xưa, ở một ngôi làng nhỏ bên bờ sông Hồng, có một cậu bé tên là Trạng Quỳnh. Cậu nổi tiếng thông minh, lanh lợi và rất giỏi toán."
    },
    {
      "id": "p2",
      "bg": "assets/user/bg_village.png",
      "sprite": "assets/user/trang_cheer.png",
      "speaker": "Người kể chuyện",
      "text": "Một ngày nọ, tin tức lan truyền về kỳ thi Toán tại Kinh Đô. Người chiến thắng sẽ nhận danh hiệu cao quý: Trạng Nguyên!"
    },
    {
      "id": "p3",
      "bg": "assets/user/bg_village.png",
      "sprite": "assets/user/trang_idle.png",
      "speaker": "Trạng Quỳnh",
      "text": "Ta phải tham gia kỳ thi này! Đây là cơ hội để chứng minh trí tuệ và mang vinh quang về cho làng."
    },
    {
      "id": "p4",
      "bg": "assets/user/bg_village.png",
      "sprite": "assets/user/trang_portrait.png",
      "speaker": "Người kể chuyện",
      "text": "Và thế là, hành trình của Trạng Quỳnh bắt đầu - từ làng quê nhỏ bé đến tận điện Rồng nơi kinh thành."
    }
  ],
  "nodes": [
    {
      "id": "n1",
      "order": 1,
      "title": "Làng Thi Nhỏ",
      "mathTopic": "Cộng trong phạm vi 100 (cộng có nhớ)",
      "objective": "Thực hiện phép cộng có nhớ trong phạm vi 100",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Trạng Quỳnh nhận tin có cuộc thi Toán ở kinh đô. Cậu bắt đầu chuẩn bị hành trang."
        },
        {
          "speaker": "Mẹ",
          "text": "Con ơi, mẹ chuẩn bị táo và cam cho con mang đi. Con tính giúp mẹ số lương thực nhé!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Vâng ạ! Con sẽ tính toán cẩn thận để không thiếu đồ ăn trên đường đi."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_market.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "sprite_main_cheer": "assets/user/trang_cheer.png",
        "icon": "assets/user/icon_apple.png"
      },
      "activityRef": "grade2.c1.l1.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": "addition-master"
    },
    {
      "id": "n2",
      "order": 2,
      "title": "Thử Thách Trên Cầu",
      "mathTopic": "Trừ có nhớ trong phạm vi 100",
      "objective": "Thực hiện phép trừ có nhớ trong phạm vi 100",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Muốn ra khỏi làng, Quỳnh phải qua cây cầu tre yếu. Người gác cầu cần sự giúp đỡ."
        },
        {
          "speaker": "Người gác cầu",
          "text": "Cậu bé ơi, cầu này chỉ chịu được số người nhất định. Giúp ta tính toán số người đã qua với!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Để cháu tính! Phép trừ có nhớ là sở trường của cháu mà."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_bridge.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_bridge.png"
      },
      "activityRef": "grade2.c1.l2.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": "subtraction-master"
    },
    {
      "id": "n3",
      "order": 3,
      "title": "Giúp Bà Hàng Xóm",
      "mathTopic": "Bài toán lời văn (Cộng/Trừ)",
      "objective": "Giải bài toán có lời văn về cộng và trừ",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Trước khi đi, Quỳnh ghé sang chào bà hàng xóm. Bà đang bận rộn với vườn cau."
        },
        {
          "speaker": "Bà hàng xóm",
          "text": "Quỳnh ơi, bà già rồi tính toán kém. Con tính giúp bà số buồng cau bán và còn lại nhé!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Bà yên tâm! Cháu sẽ giúp bà tính cẩn thận trước khi lên đường."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_areca_garden.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_bunch.png"
      },
      "activityRef": "grade2.c1.l3.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n4",
      "order": 4,
      "title": "Giờ Học Cuối Cùng",
      "mathTopic": "Xem đồng hồ (giờ đúng, giờ rưỡi)",
      "objective": "Đọc giờ trên đồng hồ, phân biệt giờ đúng và giờ rưỡi",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Quỳnh ghé qua trường làng để bái biệt thầy đồ trước khi khởi hành."
        },
        {
          "speaker": "Thầy đồ",
          "text": "Quỳnh à, ta sẽ thử thách con lần cuối. Con hãy đọc đồng hồ để tìm giờ hoàng đạo xuất hành!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Dạ thưa thầy! Con sẽ đọc thật chuẩn để khởi hành đúng giờ tốt."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_classroom.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_clock.png"
      },
      "activityRef": "grade2.c2.l1.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": "time-master"
    },
    {
      "id": "n5",
      "order": 5,
      "title": "Lịch Trình May Mắn",
      "mathTopic": "Xem lịch (Thứ, ngày, tháng)",
      "objective": "Đọc và sử dụng lịch để xác định ngày, thứ, tháng",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Quỳnh mở tờ lịch đỏ để tính toán ngày khởi hành và ngày đến kinh đô."
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Mình phải tính kỹ để không bị trễ ngày thi. Xem nào, hôm nay là thứ mấy nhỉ?"
        },
        {
          "speaker": "Mẹ",
          "text": "Con tính cẩn thận nhé! Đường xa lắm đó, phải dự trù đủ ngày."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_home.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_calendar.png"
      },
      "activityRef": "grade2.c2.l2.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n6",
      "order": 6,
      "title": "Thước Đo Ao Sen",
      "mathTopic": "Độ dài (cm, dm, m)",
      "objective": "Đo và quy đổi đơn vị độ dài cm, dm, m",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Bên bờ ao sen, Quỳnh gặp ngư dân đang lúng túng với cây thước cũ."
        },
        {
          "speaker": "Ngư dân",
          "text": "Cậu bé ơi, thước của ta chỉ còn vạch 'tấc'. Giúp ta đo chiều cao búp sen và quy đổi ra cm được không?"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Dễ thôi bác ơi! 1 dm = 10 cm mà. Cháu sẽ giúp bác đo và tính."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_pond.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_ruler.png"
      },
      "activityRef": "grade2.c2.l3.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": "measurement-master"
    },
    {
      "id": "n7",
      "order": 7,
      "title": "Đường Đê Khúc Khuỷu",
      "mathTopic": "Đường gấp khúc & Hình học",
      "objective": "Tính độ dài đường gấp khúc, nhận biết tam giác và tứ giác",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Con đường đê dẫn ra sông bị sạt lở, tạo thành các đoạn gấp khúc."
        },
        {
          "speaker": "Trưởng thôn",
          "text": "Cậu bé thông minh kia, giúp ta tính tổng chiều dài đường đê để dân làng biết rải đá nhé!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Vâng ạ! Cháu sẽ cộng từng đoạn lại. Đường gấp khúc thì tính tổng các cạnh thôi!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_road.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_shape.png"
      },
      "activityRef": "grade2.c2.l4.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n8",
      "order": 8,
      "title": "Gạo Trắng, Nước Trong",
      "mathTopic": "Khối lượng (kg) & Dung tích (lít)",
      "objective": "Đo và tính toán khối lượng kg, dung tích lít",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Đoàn người dừng chân nghỉ ngơi. Trưởng đoàn cần chia lương thực."
        },
        {
          "speaker": "Trưởng đoàn",
          "text": "Quỳnh à, giúp ta cân chia gạo vào các bao và đong nước từ chum lớn ra các bình nhỏ nhé!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Vâng ạ! Cháu biết cách cân kg và đong lít rồi. Để cháu chia cho đều."
        }
      ],
      "assets": {
        "bg": "assets/user/bg_rest_stop.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_sack.png"
      },
      "activityRef": "grade2.c2.l5.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n9",
      "order": 9,
      "title": "Chợ Phiên Kinh Kỳ",
      "mathTopic": "Phép nhân (Bảng 2, Bảng 5)",
      "objective": "Thực hiện phép nhân trong bảng 2 và bảng 5",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Vào đến chợ kinh đô tấp nập, hàng hóa bày bán theo từng chùm, từng nhóm."
        },
        {
          "speaker": "Bà bán hàng",
          "text": "Cậu bé, mua táo không? Mỗi chùm có 5 quả. Cậu tính nhanh giúp bà tổng số quả trong các rổ!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Bảng nhân 5 à? Dễ thôi! 5 nhân mấy cũng có 5 hoặc 0 ở hàng đơn vị!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_market.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_apple.png"
      },
      "activityRef": "grade2.c3.l1.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n10",
      "order": 10,
      "title": "Chia Kẹo Cho Trẻ",
      "mathTopic": "Phép chia (Bảng 2, Bảng 5)",
      "objective": "Thực hiện phép chia trong bảng 2 và bảng 5",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Thấy lũ trẻ thành thị đang chơi ô ăn quan, Quỳnh muốn làm quen."
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Các bạn ơi, mình mua kẹo về chia cho các bạn nè! Mình sẽ chia đều nhé."
        },
        {
          "speaker": "Trẻ em",
          "text": "Hay quá! Anh Quỳnh giỏi tính toán quá! Chia đều cho tụi mình nhé!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_playground.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_candy.png"
      },
      "activityRef": "grade2.c3.l2.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": null
    },
    {
      "id": "n11",
      "order": 11,
      "title": "Tiền Thưởng Của Làng",
      "mathTopic": "Tiền tệ Việt Nam",
      "objective": "Tính toán với tiền Việt Nam: cộng, trừ, trả lại tiền thừa",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Quỳnh ghé vào tiệm sách, dùng số tiền dân làng quyên góp để mua giấy bút đi thi."
        },
        {
          "speaker": "Chủ tiệm sách",
          "text": "Chào cậu bé! Giấy và bút ở đây. Cậu có bao nhiêu tiền nào?"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Dạ cháu có tiền của dân làng. Cháu phải tính kỹ tiền trả và tiền thừa ạ!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_shop.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_money.png"
      },
      "activityRef": "grade2.c3.l3.a1",
      "xpOnCorrect": 10,
      "badgeOnComplete": "money-master"
    },
    {
      "id": "n12",
      "order": 12,
      "title": "Kiểm Kê Kho Thóc",
      "mathTopic": "Số tròn trăm & Số trong phạm vi 1000",
      "objective": "Đọc, viết và đếm số trong phạm vi 1000",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Vòng thi thứ nhất bắt đầu tại hoàng cung. Đức Vua ra đề thử thách."
        },
        {
          "speaker": "Đức Vua",
          "text": "Các sĩ tử hãy kiểm đếm số bao thóc trong kho lương thực hoàng gia! Ai đếm đúng sẽ vào vòng sau."
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Số lớn trong phạm vi 1000 ạ! Cháu sẽ đếm cẩn thận từng trăm một!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_warehouse.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_sack.png"
      },
      "activityRef": "grade2.c4.l1.a1",
      "xpOnCorrect": 12,
      "badgeOnComplete": null
    },
    {
      "id": "n13",
      "order": 13,
      "title": "So Sánh Bổng Lộc",
      "mathTopic": "So sánh số có 3 chữ số (>, <, =)",
      "objective": "So sánh các số có 3 chữ số",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Vòng thi thứ hai liên quan đến sổ sách triều đình."
        },
        {
          "speaker": "Quan thượng thư",
          "text": "Sĩ tử hãy so sánh số thuế và bổng lộc của các trấn. Nơi nào nộp nhiều, nơi nào nộp ít?"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "So sánh số có 3 chữ số thì phải so hàng trăm trước, rồi đến hàng chục, hàng đơn vị!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_palace.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_scroll.png"
      },
      "activityRef": "grade2.c4.l2.a1",
      "xpOnCorrect": 12,
      "badgeOnComplete": null
    },
    {
      "id": "n14",
      "order": 14,
      "title": "Xây Dựng Thành Quách",
      "mathTopic": "Cộng trừ không nhớ trong phạm vi 1000",
      "objective": "Thực hiện phép cộng trừ không nhớ với số có 3 chữ số",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Vòng thi thứ ba về kiến thiết đất nước."
        },
        {
          "speaker": "Quan kiến trúc",
          "text": "Tính toán tổng số gạch cần thiết để tu sửa cổng thành phía Nam và phía Bắc!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Cộng trừ số lớn? Cháu sẽ tính từng hàng: đơn vị, chục, rồi trăm!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_construction.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "icon": "assets/user/icon_brick.png"
      },
      "activityRef": "grade2.c4.l3.a1",
      "xpOnCorrect": 12,
      "badgeOnComplete": null
    },
    {
      "id": "n15",
      "order": 15,
      "title": "Đối Đáp Trước Rồng Vàng",
      "mathTopic": "Ôn tập tổng hợp nâng cao",
      "objective": "Giải các câu đố logic và bài toán tổng hợp",
      "cutscene": [
        {
          "speaker": "Người kể chuyện",
          "text": "Màn cuối cùng tại điện Rồng. Đây là thử thách cuối cùng để giành danh hiệu Trạng Nguyên!"
        },
        {
          "speaker": "Đức Vua",
          "text": "Sĩ tử Quỳnh, hãy đối đáp những câu đố hóc búa nhất của ta! Ai vượt qua sẽ là Trạng Nguyên!"
        },
        {
          "speaker": "Trạng Quỳnh",
          "text": "Thần xin tuân lệnh! Dù khó đến đâu, thần cũng sẽ cố gắng hết sức!"
        }
      ],
      "assets": {
        "bg": "assets/user/bg_throne.png",
        "sprite_main_idle": "assets/user/trang_idle.png",
        "sprite_main_cheer": "assets/user/trang_cheer.png",
        "icon": "assets/user/icon_badge.png"
      },
      "activityRef": "grade2.c4.l4.a1",
      "xpOnCorrect": 15,
      "badgeOnComplete": "grade2-master"
    }
  ],
  "epilogue": [
    {
      "id": "e1",
      "bg": "assets/user/bg_throne.png",
      "sprite": "assets/user/trang_cheer.png",
      "speaker": "Đức Vua",
      "text": "Quỳnh quả thật thông minh tuyệt đỉnh! Ta phong cho cậu danh hiệu Trạng Nguyên!"
    },
    {
      "id": "e2",
      "bg": "assets/user/bg_village.png",
      "sprite": "assets/user/trang_cheer.png",
      "speaker": "Người kể chuyện",
      "text": "Trạng Quỳnh vinh quy bái tổ, mang vinh quang về cho làng quê nhỏ bé. Câu chuyện về cậu bé thông minh được truyền tụng mãi về sau."
    }
  ]
}
